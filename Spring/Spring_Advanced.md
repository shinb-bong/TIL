# 스프링 고급편

1. 동시성 문제를 해결하기위해 
    
    ThreadLocal 사용 set으로 넣고 get으로 가져온다.
    
    각각 쓰레드마다 저장되는 새로운 공간이 생긴다.
    
    다 사용하면 remove()를 통해서 메모리 할당을 지운다.
    
2. 템플릿 패턴이란?
    
    다형성을 사용해서 변하는 부분과 변하지 않는 부분을 분리하는 방법
    
    1. 부가적인 부분의 겹치는 부분을 따로 빼서 추가 로직부분만 구현하게 만든다.
    2. 재사용을 하는것임.
    3. 익명 내부 클래스
3. 제네릭은 반환타입이 필요한데 반환할 내용이 없으면 Void 사용후 null을 반환 객체타입 사용해야함.
4. 전략패턴 ⇒ 상속의강한 결합을 끊어내서 템플릿패턴처럼 사용가능 
    1. 인터페이스를 사용해서 위임(주입)사용
    2. 람다를 사용해서 직관적으로 만들 수 있음⇒ 대신 메소드가 하나여야함.
    3. 선 조립, 후 실행
        
        선실행 후 조립을 하는 파라미터를 전달하는 방법도 있다.( 더 적합한 방법(유연함))
        
        - 익명 내부 클래스 물론 가능
        - 람다도 가능
- 디자인 패턴은 의도에 따라 나뉨.
    
    ---
    
1. 프록시 (의도에따라서)
    1. **접근제어(프록시 패턴⇒ 이름만 프록시 패턴임)**
        1. 캐싱  ⇒ 마치 이미 변수에 값이 있으면 그냥 호출하지 않고 내 값을 준다.
        2. 권한에 따른 접근 차단
        3. 지연 로딩
    2. **부가기능 추가 (데코레이터 패턴** ⇒ 얘도 프록시는 사용)
        1. 응답 값 변형
        2. 추가 책임을 동적으로 추가하고 기능 확장
    3. 프록시 체인이라는 추가기능을 더 사용할 수도 있다.
2. 사실 구현 방법은 서로의 껍데기로 덮은 DI 임
3. 스프링 컨테이너는 실제 객체가 아니라 프록시 객체를 스프링 빈으로 관리한다.